# 팀 커피 주문 웹페이지 구현 계획

- [ ] 1. Next.js 프로젝트 설정 및 기본 구조 생성
  - Next.js 14 프로젝트 초기화 (App Router 사용)
  - TypeScript, Tailwind CSS 설정
  - 기본 폴더 구조 생성 (components, lib, types)
  - 환경변수 설정 파일 생성 (.env.local)
  - _요구사항: 5.1, 5.2_

- [ ] 2. 노션 API 연동 기반 구조 설정
  - [ ] 2.1 노션 API 클라이언트 설정
    - @notionhq/client 패키지 설치 및 설정
    - 노션 토큰 및 데이터베이스 ID 환경변수 설정
    - NotionService 클래스 기본 구조 생성
    - _요구사항: 6.1, 6.2_
  
  - [ ] 2.2 TypeScript 인터페이스 정의
    - Menu, Order, NotionDatabase 인터페이스 작성
    - 노션 API 응답 타입 정의
    - 에러 상태 관리 타입 정의
    - _요구사항: 5.3, 2.1, 4.1_

- [ ] 3. 노션 데이터베이스 생성 및 초기 데이터 마이그레이션
  - [ ] 3.1 노션 메뉴 데이터베이스 생성
    - 노션에서 메뉴 데이터베이스 생성 (brand, category, item_name_ko, price_krw, image, options_json 속성)
    - CSV 데이터를 노션 데이터베이스로 마이그레이션하는 스크립트 작성
    - 메뉴 데이터 조회 API 함수 구현
    - _요구사항: 2.1, 2.2, 6.2_
  
  - [ ] 3.2 노션 주문 데이터베이스 생성
    - 노션에서 주문 데이터베이스 생성 (customer_name, menu_id, menu_name, brand, status, order_date 속성)
    - 주문 데이터 생성/조회 API 함수 구현
    - 실시간 주문 현황 조회 함수 구현
    - _요구사항: 4.1, 4.2, 4.3, 4.4_

- [ ] 4. 메인 페이지 및 브랜드 선택 기능 구현
  - [ ] 4.1 메인 페이지 레이아웃 생성
    - 메인 페이지 컴포넌트 생성 (app/page.tsx)
    - 상단 브랜드 탭 메뉴 UI 구현
    - 반응형 디자인 적용
    - _요구사항: 1.1, 1.2, 5.2_
  
  - [ ] 4.2 BrandSelector 컴포넌트 구현
    - 우지커피, 카페게이트 탭 메뉴 컴포넌트 작성
    - 선택된 브랜드 상태 관리 (useState)
    - 주문 버튼 클릭 시 해당 브랜드 페이지로 라우팅
    - _요구사항: 1.1, 1.2, 1.3_
  
  - [ ] 4.3 TeamSettings 컴포넌트 구현
    - 팀 인원수 설정 입력 폼 작성
    - 인원수 검증 로직 (1-50명)
    - 로컬 스토리지에 설정값 저장
    - _요구사항: 6.1, 6.2, 6.3_

- [ ] 5. 주문 페이지 및 메뉴 표시 기능 구현
  - [ ] 5.1 동적 라우팅 주문 페이지 생성
    - app/order/[brand]/page.tsx 생성
    - 브랜드별 메뉴 데이터 노션 API로 조회
    - 로딩 상태 및 에러 처리 구현
    - _요구사항: 2.1, 2.2_
  
  - [ ] 5.2 MenuGrid 및 MenuItem 컴포넌트 구현
    - 메뉴 그리드 레이아웃 컴포넌트 작성
    - 개별 메뉴 아이템 컴포넌트 (이미지, 이름, 가격 표시)
    - 가격이 없는 경우 "-" 표시 로직
    - 메뉴 선택 상태 관리 및 시각적 피드백
    - _요구사항: 2.1, 2.2, 2.3_
  
  - [ ] 5.3 PassOption 컴포넌트 구현
    - 패스 선택 옵션 UI 구현
    - 패스 선택 시 상태 관리
    - _요구사항: 3.1, 3.2_

- [ ] 6. 주문 처리 및 폼 기능 구현
  - [ ] 6.1 OrderForm 컴포넌트 구현
    - 주문자 이름 입력 폼 작성
    - 선택된 메뉴 확인 UI
    - 폼 검증 로직 (이름 필수, 메뉴 선택 확인)
    - _요구사항: 2.4, 3.2_
  
  - [ ] 6.2 주문 완료 처리 로직 구현
    - 노션 주문 데이터베이스에 주문 데이터 생성
    - 중복 주문 방지 로직 (같은 이름 검증)
    - 주문 완료 후 상태 페이지로 리다이렉트
    - 에러 처리 및 사용자 피드백
    - _요구사항: 4.1, 4.2, 3.3_

- [ ] 7. 실시간 주문 현황 페이지 구현
  - [ ] 7.1 OrderStatus 컴포넌트 기본 구조
    - app/status/page.tsx 생성
    - 노션 주문 데이터베이스에서 실시간 주문 현황 조회
    - 주문자별 메뉴 리스트 표시
    - _요구사항: 4.1, 4.2_
  
  - [ ] 7.2 주문 현황 통계 및 진행률 표시
    - 메뉴별 주문 수량 카운팅 로직
    - 설정된 전체 인원 중 주문 완료 인원 표시
    - "주문 안함" 상태 팀원 표시
    - 실시간 업데이트를 위한 폴링 또는 자동 새로고침
    - _요구사항: 4.3, 4.4, 3.3_

- [ ] 8. 상태 관리 및 실시간 동기화 구현
  - [ ] 8.1 React Context API 상태 관리 설정
    - OrderContext 생성 및 Provider 설정
    - useReducer를 사용한 주문 상태 관리
    - 팀 인원수 설정 상태 관리 추가
    - 전역 상태 관리 로직 구현
    - _요구사항: 4.1, 4.2, 4.3, 4.4, 6.3_
  
  - [ ] 8.2 실시간 데이터 동기화 구현
    - 노션 API 폴링을 통한 실시간 주문 현황 업데이트
    - 캐싱 전략 구현 (메뉴 데이터, 주문 데이터)
    - API 요청 제한 고려한 최적화
    - _요구사항: 6.3_

- [ ] 9. 에러 처리 및 사용자 경험 개선
  - [ ] 9.1 포괄적 에러 처리 구현
    - 노션 API 연결 실패 시 캐시된 데이터 사용
    - 네트워크 에러 시 사용자 피드백
    - API 요청 제한 초과 시 재시도 로직
    - _요구사항: 모든 요구사항의 안정성_
  
  - [ ] 9.2 로딩 상태 및 UX 개선
    - 로딩 스피너 및 스켈레톤 UI 구현
    - 성공/실패 토스트 메시지
    - 반응형 디자인 최적화
    - _요구사항: 5.2_

- [ ] 10. 배포 준비 및 최종 통합
  - [ ] 10.1 환경 설정 및 빌드 최적화
    - 프로덕션 환경변수 설정
    - Next.js 빌드 최적화
    - 이미지 최적화 설정
    - _요구사항: 5.1, 5.2_
  
  - [ ] 10.2 최종 기능 검증 및 배포
    - 전체 기능 동작 확인
    - 성능 최적화 확인
    - 배포 환경 설정
    - _요구사항: 모든 요구사항의 최종 검증_